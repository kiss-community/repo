diff --git a/widget/gtk/nsWindow.cpp b/widget/gtk/nsWindow.cpp
index d3a93cd..91b3ca0 100644
--- a/widget/gtk/nsWindow.cpp
+++ b/widget/gtk/nsWindow.cpp
@@ -726,9 +726,11 @@ void nsWindow::Destroy() {
   // We need to detach accessible object here because mContainer is a custom
   // widget and doesn't call gtk_widget_real_destroy() from destroy handler
   // as regular widgets.
+#ifdef ACCESSIBILITY
   if (AtkObject* ac = gtk_widget_get_accessible(GTK_WIDGET(mContainer))) {
     gtk_accessible_set_widget(GTK_ACCESSIBLE(ac), nullptr);
   }
+#endif
 
   // Owned by WaylandSurface or it's X11 ID,
   // just drop the reference here.
